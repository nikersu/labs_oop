{
  "info": {
    "name": "LabsOOP API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Users - Create",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.environment.set('username', `user_${Date.now()}`);",
              "pm.environment.set('passwordHash', `pass_${Date.now()}`);"
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(201);",
              "const data = pm.response.json();",
              "pm.environment.set('userId', data.id);",
              "pm.environment.set('username', data.username);"
            ]
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"username\": \"{{username}}\",\n  \"passwordHash\": \"{{passwordHash}}\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/users",
          "host": ["{{baseUrl}}"],
          "path": ["api", "users"]
        }
      }
    },
    {
      "name": "Users - Get All",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(200);",
              "pm.expect(pm.response.json()).to.be.an('array');"
            ]
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/users",
          "host": ["{{baseUrl}}"],
          "path": ["api", "users"]
        }
      }
    },
    {
      "name": "Users - Get By Id",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(200);",
              "const data = pm.response.json();",
              "pm.expect(data).to.have.property('id', parseInt(pm.environment.get('userId'), 10));"
            ]
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/users/{{userId}}",
          "host": ["{{baseUrl}}"],
          "path": ["api", "users", "{{userId}}"]
        }
      }
    },
    {
      "name": "Users - Get By Username",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(200);",
              "const data = pm.response.json();",
              "pm.expect(data).to.have.property('username', pm.environment.get('username'));"
            ]
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/users/username/{{username}}",
          "host": ["{{baseUrl}}"],
          "path": ["api", "users", "username", "{{username}}"]
        }
      }
    },
    {
      "name": "Users - Update",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.environment.set('usernameUpdated', `${pm.environment.get('username')}_updated`);"
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(200);",
              "const data = pm.response.json();",
              "pm.expect(data).to.have.property('username', pm.environment.get('usernameUpdated'));"
            ]
          }
        }
      ],
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"username\": \"{{usernameUpdated}}\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/users/{{userId}}",
          "host": ["{{baseUrl}}"],
          "path": ["api", "users", "{{userId}}"]
        }
      }
    },
    {
      "name": "Functions - Create",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.environment.set('functionName', `func_${Date.now()}`);",
              "pm.environment.set('functionExpression', 'x*x');"
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(201);",
              "const data = pm.response.json();",
              "pm.environment.set('functionId', data.id);",
              "pm.expect(data).to.have.property('userId', parseInt(pm.environment.get('userId'), 10));"
            ]
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"name\": \"{{functionName}}\",\n  \"expression\": \"{{functionExpression}}\",\n  \"userId\": {{userId}}\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/functions",
          "host": ["{{baseUrl}}"],
          "path": ["api", "functions"]
        }
      }
    },
    {
      "name": "Functions - Get All",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(200);",
              "pm.expect(pm.response.json()).to.be.an('array');"
            ]
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/functions",
          "host": ["{{baseUrl}}"],
          "path": ["api", "functions"]
        }
      }
    },
    {
      "name": "Functions - Get By Id",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(200);",
              "const data = pm.response.json();",
              "pm.expect(data).to.have.property('id', parseInt(pm.environment.get('functionId'), 10));"
            ]
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/functions/{{functionId}}",
          "host": ["{{baseUrl}}"],
          "path": ["api", "functions", "{{functionId}}"]
        }
      }
    },
    {
      "name": "Functions - Get By User",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(200);",
              "pm.expect(pm.response.json()).to.be.an('array');"
            ]
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/functions/user/{{userId}}",
          "host": ["{{baseUrl}}"],
          "path": ["api", "functions", "user", "{{userId}}"]
        }
      }
    },
    {
      "name": "Functions - Search",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(200);",
              "pm.expect(pm.response.json()).to.be.an('array');"
            ]
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/functions/user/{{userId}}/search?name={{functionName}}&sortBy=id&sortDir=asc",
          "host": ["{{baseUrl}}"],
          "path": ["api", "functions", "user", "{{userId}}", "search"],
          "query": [
            {
              "key": "name",
              "value": "{{functionName}}"
            },
            {
              "key": "sortBy",
              "value": "id"
            },
            {
              "key": "sortDir",
              "value": "asc"
            }
          ]
        }
      }
    },
    {
      "name": "Functions - Update",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.environment.set('functionNameUpdated', `${pm.environment.get('functionName')}_updated`);",
              "pm.environment.set('functionExpressionUpdated', 'x+10');"
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(200);",
              "const data = pm.response.json();",
              "pm.expect(data).to.have.property('name', pm.environment.get('functionNameUpdated'));"
            ]
          }
        }
      ],
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"name\": \"{{functionNameUpdated}}\",\n  \"expression\": \"{{functionExpressionUpdated}}\",\n  \"userId\": {{userId}}\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/functions/{{functionId}}",
          "host": ["{{baseUrl}}"],
          "path": ["api", "functions", "{{functionId}}"]
        }
      }
    },
    {
      "name": "Points - Create",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.environment.set('pointX', 1.5);",
              "pm.environment.set('pointY', 2.25);"
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(201);",
              "const data = pm.response.json();",
              "pm.expect(data).to.have.property('functionId', parseInt(pm.environment.get('functionId'), 10));"
            ]
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"functionId\": {{functionId}},\n  \"xValue\": {{pointX}},\n  \"yValue\": {{pointY}}\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/points",
          "host": ["{{baseUrl}}"],
          "path": ["api", "points"]
        }
      }
    },
    {
      "name": "Points - Get All",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(200);",
              "pm.expect(pm.response.json()).to.be.an('array');"
            ]
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/points",
          "host": ["{{baseUrl}}"],
          "path": ["api", "points"]
        }
      }
    },
    {
      "name": "Points - Get By Function",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(200);",
              "pm.expect(pm.response.json()).to.be.an('array');"
            ]
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/points/function/{{functionId}}",
          "host": ["{{baseUrl}}"],
          "path": ["api", "points", "function", "{{functionId}}"]
        }
      }
    },
    {
      "name": "Points - Get By Range",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(200);",
              "pm.expect(pm.response.json()).to.be.an('array');"
            ]
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/points/function/{{functionId}}/range?fromX=1.0&toX=2.0&sortBy=id.xValue&sortDir=asc",
          "host": ["{{baseUrl}}"],
          "path": ["api", "points", "function", "{{functionId}}", "range"],
          "query": [
            {
              "key": "fromX",
              "value": "1.0"
            },
            {
              "key": "toX",
              "value": "2.0"
            },
            {
              "key": "sortBy",
              "value": "id.xValue"
            },
            {
              "key": "sortDir",
              "value": "asc"
            }
          ]
        }
      }
    },
    {
      "name": "Points - Get By X",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(200);",
              "const data = pm.response.json();",
              "pm.expect(data).to.have.property('xValue', parseFloat(pm.environment.get('pointX')));"
            ]
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/points/function/{{functionId}}/x/{{pointX}}",
          "host": ["{{baseUrl}}"],
          "path": ["api", "points", "function", "{{functionId}}", "x", "{{pointX}}"]
        }
      }
    },
    {
      "name": "Points - Update",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.environment.set('pointYUpdated', 3.5);"
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(200);",
              "const data = pm.response.json();",
              "pm.expect(data).to.have.property('yValue', pm.environment.get('pointYUpdated'));"
            ]
          }
        }
      ],
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"functionId\": {{functionId}},\n  \"xValue\": {{pointX}},\n  \"yValue\": {{pointYUpdated}}\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/points/function/{{functionId}}/x/{{pointX}}",
          "host": ["{{baseUrl}}"],
          "path": ["api", "points", "function", "{{functionId}}", "x", "{{pointX}}"]
        }
      }
    },
    {
      "name": "Search - User By Username",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(200);",
              "const data = pm.response.json();",
              "pm.expect(data).to.have.property('username', pm.environment.get('usernameUpdated'));"
            ]
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/search/users/username/{{usernameUpdated}}",
          "host": ["{{baseUrl}}"],
          "path": ["api", "search", "users", "username", "{{usernameUpdated}}"]
        }
      }
    },
    {
      "name": "Search - Function By Id",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(200);",
              "const data = pm.response.json();",
              "pm.expect(data).to.have.property('id', parseInt(pm.environment.get('functionId'), 10));"
            ]
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/search/functions/{{functionId}}",
          "host": ["{{baseUrl}}"],
          "path": ["api", "search", "functions", "{{functionId}}"]
        }
      }
    },
    {
      "name": "Search - Point By X",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(200);",
              "const data = pm.response.json();",
              "pm.expect(data).to.have.property('xValue', parseFloat(pm.environment.get('pointX')));"
            ]
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/search/points/function/{{functionId}}/x/{{pointX}}",
          "host": ["{{baseUrl}}"],
          "path": ["api", "search", "points", "function", "{{functionId}}", "x", "{{pointX}}"]
        }
      }
    },
    {
      "name": "Search - Functions By User",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(200);",
              "pm.expect(pm.response.json()).to.be.an('array');"
            ]
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/search/functions/user/{{userId}}?nameLike={{functionNameUpdated}}&sortBy=id&sortDir=asc",
          "host": ["{{baseUrl}}"],
          "path": ["api", "search", "functions", "user", "{{userId}}"],
          "query": [
            {
              "key": "nameLike",
              "value": "{{functionNameUpdated}}"
            },
            {
              "key": "sortBy",
              "value": "id"
            },
            {
              "key": "sortDir",
              "value": "asc"
            }
          ]
        }
      }
    },
    {
      "name": "Search - Points By Function",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(200);",
              "pm.expect(pm.response.json()).to.be.an('array');"
            ]
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/search/points/function/{{functionId}}?fromX=1.0&toX=2.0&sortBy=id.xValue&sortDir=asc",
          "host": ["{{baseUrl}}"],
          "path": ["api", "search", "points", "function", "{{functionId}}"],
          "query": [
            {
              "key": "fromX",
              "value": "1.0"
            },
            {
              "key": "toX",
              "value": "2.0"
            },
            {
              "key": "sortBy",
              "value": "id.xValue"
            },
            {
              "key": "sortDir",
              "value": "asc"
            }
          ]
        }
      }
    },
    {
      "name": "Search - Hierarchy Breadth First",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(200);",
              "pm.expect(pm.response.json()).to.be.an('array');"
            ]
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/search/hierarchy/user/{{userId}}/breadth-first",
          "host": ["{{baseUrl}}"],
          "path": ["api", "search", "hierarchy", "user", "{{userId}}", "breadth-first"]
        }
      }
    },
    {
      "name": "Search - Hierarchy Depth First",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(200);",
              "pm.expect(pm.response.json()).to.be.an('array');"
            ]
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/search/hierarchy/user/{{userId}}/depth-first",
          "host": ["{{baseUrl}}"],
          "path": ["api", "search", "hierarchy", "user", "{{userId}}", "depth-first"]
        }
      }
    },
    {
      "name": "Points - Delete",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(204);"
            ]
          }
        }
      ],
      "request": {
        "method": "DELETE",
        "url": {
          "raw": "{{baseUrl}}/api/points/function/{{functionId}}/x/{{pointX}}",
          "host": ["{{baseUrl}}"],
          "path": ["api", "points", "function", "{{functionId}}", "x", "{{pointX}}"]
        }
      }
    },
    {
      "name": "Functions - Delete",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(204);"
            ]
          }
        }
      ],
      "request": {
        "method": "DELETE",
        "url": {
          "raw": "{{baseUrl}}/api/functions/{{functionId}}",
          "host": ["{{baseUrl}}"],
          "path": ["api", "functions", "{{functionId}}"]
        }
      }
    },
    {
      "name": "Users - Delete",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "pm.response.to.have.status(204);"
            ]
          }
        }
      ],
      "request": {
        "method": "DELETE",
        "url": {
          "raw": "{{baseUrl}}/api/users/{{userId}}",
          "host": ["{{baseUrl}}"],
          "path": ["api", "users", "{{userId}}"]
        }
      }
    }
  ]
}